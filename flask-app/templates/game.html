<!DOCTYPE html>
<html lang="en">
<head>
    <title>FrontlineCode</title>
    <meta charset="UTF-8">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="../static/css/style.css">

    <script type="text/javascript">
    var timeleft = {{question_time}};
    var countDown = setInterval(function(){
      if(timeleft <= 0){
        clearInterval(countDown);
        document.getElementById("countdown").innerHTML = "0";
      }
      else {
        let mycount=document.getElementById("countdown")
        mycount.innerHTML = timeleft;
      }
      timeleft -= 1;
    }, 1000);

    function change(value){
        if (value == 1) document.getElementById("timespent1").value= timeleft
        if (value == 2) document.getElementById("timespent2").value= timeleft
        if (value == 3) document.getElementById("timespent3").value= timeleft
        if (value == 4) document.getElementById("timespent4").value= timeleft
          }
    </script>
    <!----------------------------------------------------PROGRESSIVE WEB APP--------------------------------------------------------------->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#cc194b"/>

    <!--Favicon del Sito Web-->
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <!--Meta Tag Specifici per iOS-->
    <link rel="apple-touch-icon" href="images/152x152.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="PWA Esempio">


    <!--Meta Tag Specifici per OS Windows-->
    <meta name="application-name" content="PWA Esempio" />
    <meta name="msapplication-TileImage" content="images/144x144.png">
    <meta name="msapplication-TileColor" content="#cc194b">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="/protected_area"><img src="" width="250" height="30" style="margin-left:5px;"></a>
      <div class="pagination justify-content-end" style="width:100%; height:100%">
              <div style="align-items: self-end">
                  <a href='/protected_area'><button type='button' style='height:38px; font-family: "DisposableDroidBB", sans-serif; margin-right:5px;' class='btn btn-outline-light'>Exit</button></a>
              </div>
          </div>
      </nav>

  <div id="main-container">
      {% block content %}
      {%if difficulty == 'easy':%}
        <h1 align="center" style="text-transform: uppercase; color:lightseagreen;">LEVEL {{level}}: {{difficulty}}<br><p id="countdown"></p></h1>
      <center><h3 style="color:lightseagreen;">Question: {{question_text}} </h3></center>
      {% endif %}
      {%if difficulty == 'amateur':%}
        <h1 align="center" style="text-transform: uppercase; color:green;">LEVEL {{level}}: {{difficulty}}<br><p id="countdown"></p></h1>
        <center><h3 style="color:green;">Question: {{question_text}} </h3></center>
      {% endif %}
      {%if difficulty == 'hard':%}
        <h1 align="center" style="text-transform: uppercase; color:darkred;">LEVEL {{level}}: {{difficulty}}<br><p id="countdown"></p><</h1>
        <center><h3 style="color:darkred;">Question: {{question_text}}</h3></center>
      {% endif %}

      <div class="row" id="main-container">
          {% if difficulty == 'easy'%}
          <div class="mh-100" style="width:48%;"><center><h2 style="color: lightseagreen">QUESTION CODE</h2></center></div>
          <div class="mh-100" style="width:4%;"></div>
            <div class="mh-100" style="width:48%;"><center><h2 style="color: lightseagreen">TAKE A CHOOSE</h2></center></div>
          {% endif %}

          {% if difficulty == 'amateur'%}
          <div class="mh-100" style="width:48%;"><center><h2 style="color: green">QUESTION CODE</h2></center></div>
          <div class="mh-100" style="width:4%;"></div>
            <div class="mh-100" style="width:48%;"><center><h2 style="color: green">TAKE A CHOOSE</h2></center></div>
          {% endif %}

          {% if difficulty == 'hard':%}
          <div class="mh-100" style="width:48%;"><center><h2 style="color: darkred">QUESTION CODE</h2></center></div>
          <div class="mh-100" style="width:4%;"></div>
            <div class="mh-100" style="width:48%;"><center><h2 style="color: darkred">INSERT TEXT</h2></center></div>
          {% endif %}

          <div class="mh-100" style="width:48%; height:320px; background-color:#eee; border-style: double;">
                <div class="col-md-6">
                    {% if difficulty == 'easy'%}
                        <label><h3>{{question_code}}</h3></label>
                    {% endif %}
                    {% if difficulty == 'amateur'%}
                        <label><h3>{{question_code}}</h3></label>
                    {% endif %}
                    {% if difficulty == 'hard'%}
                        <label><h3>{{question_code}}</h3></label>
                    {% endif %}
                </div>
          </div>

          <div class="mh-100" style="width:4%;"></div>

          {% if difficulty == 'easy'%}
          <div class="mh-100" style="width:48%; height:320px; background-color:#eee; border-style: double;">
                  <div class="row" style="width:100%">
                    {% for row in choose: %}
                        <div class="col-sm-5" style="width:45%; height:100px; border-style: double; margin-top:10px; margin-bottom:10px; margin-left:10px; margin-right:10px;">
                            <form name="save" class="rounded" style="width:100%; height:100%;" method="POST" action="/gamesaved" onsubmit="return confirm('Do you really want to submit this response?');">
                                <button onclick="change({{loop.index}})" type="submit" style=" font-family: 'DisposableDroidBB', sans-serif; width:100%; height:100%;" class="btn btn-outline-dark" name="choose"  id="level" value="{{choose[loop.index-1][0]}}">{{choose[loop.index-1][0]}}</button>
                                <input type="hidden" name="question_id" value={{level}}>
                                <input type="hidden" name="time" id="timespent{{loop.index}}">
                            </form>
                        </div>
                    {% endfor %}
                    </div>
          </div>
          {% endif %}

          {% if difficulty == 'amateur'%}
          <div class="mh-100" style="width:48%; height:320px; background-color:#eee; border-style: double;">
                  <div class="row" style="width:100%">
                    {% for row in choose: %}
                        <div class="col-sm-5" style="width:45%; height:100px; border-style: double; margin-top:10px; margin-bottom:10px; margin-left:10px; margin-right:10px;">
                            <form name="save" class="rounded" style="width:100%; height:100%;" method="POST" action="/gamesaved" onsubmit="return confirm('Do you really want to submit this response?');">
                                <button onclick="change({{loop.index}})" type="submit" style=" font-family: 'DisposableDroidBB', sans-serif; width:100%; height:100%;" class="btn btn-outline-dark" name="choose"  id="level" value="{{choose[loop.index-1][0]}}">{{choose[loop.index-1][0]}}</button>
                                <input type="hidden" name="question_id" value={{level}}>
                                <input type="hidden" name="time" id="timespent{{loop.index}}">
                            </form>
                        </div>
                    {% endfor %}
                    </div>
          </div>
          {% endif %}

          {% if difficulty == 'hard':%}
          <div class="mh-100" style="width:48%; height:340px; background-color:#eee; border-style: double;">
                <div class="mh-100" style="width:100%; height:100%; border-style: double;">
                    <input type="text" style=" font-family: 'DisposableDroidBB', sans-serif; width:100%; height:100%;" placeholder="Insert code" name="user_text"  id="user_text">
                </div>
          </div>
          {% endif %}
          {%endblock %}
      </div>
  </div>

  <footer class="bg-dark text-center text-white">
      <div class="container p-4 pb-0">
          <!-- Section: Social media -->
          <section>
              <!-- Facebook -->
              <a class="btn text-white btn-floating m-1" style="background-color: #3b5998;" href="!" role="button">
                  <i class="fab fa-facebook-f"></i>
              </a>
              <!-- Instagram -->
              <a class="btn text-white btn-floating m-1"style="background-color: #ac2bac;" href="#!" role="button">
                  <i class="fab fa-instagram me"></i>
              </a>
              <!-- Github -->
              <a class="btn text-white btn-floating m-1" style="background-color: #333333;" href="#!" role="button">
                  <i class="fab fa-github"></i>
              </a>
          </section>
          <!-- Section: Social media -->
      </div>
      <!-- Grid container -->

      <!-- Copyright -->
      <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
          <a style='font-family: "DisposableDroidBB", sans-serif;' href="#">© 2022 Copyright:FrontlineCode</a>
      </div>
        <script async>
            window.onload = () => {
            'use strict';
            if ('serviceWorker' in navigator) {
            navigator.serviceWorker
            .register('./sw.js');
            }
            }
        </script>
      <!-- Copyright -->
  </footer>
</body>
</html>